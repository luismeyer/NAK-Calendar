## Modules

The module data is used to generate different calendar files for each module. It is structured like this:

```json
{
  "modules": [
    {
      "filter": "<FILTER_STRING>",
      "filename": "<URL_SAFE_FILENAME>.ics"
    },
    {
      "filter": "<FILTER_STRING>",
      "filename": "<URL_SAFE_FILENAME>.ics"
    }
  ]
}
```

If module data is provided the formatter will run for every module item in the modules array. The events which contain modules will be filtered, so only one module event series exists in the calendar.

The filenames can be found in the [modules file](modules.json).

The File Url can be generated by putting together the filename and the S3 Bucket basepath: https://<BUCKET_NAME>.s3.eu-central-1.amazonaws.com/<FILE_NAME>

## Meetings

There are different ways to structure meeting data which will be injected into the event description.

If a module has always the same meeting

```json
{
  "<MODUL_NUMBER>": {
    "url": "<MEETING_URL>",
    "password": "<MEETING_PASSWORD>"
  }
}
```

If a module has more than one meeting you can provide an array of meeting-data. The meeting-data has to contain a regex which will be matched with the event description:

```json
{
  "<MODULE_NUMBER>": [
    {
      "regex": "REGEX_1",
      "url": "MEETING_URL_1"
    },
    {
      "regex": "REGEX_2",
      "url": "MEETING_URL_2",
      "password": "MEETING_PASSWORD_2"
    }
  ]
}
```

If a module has more than one meeting depending on the day the event is. You can structure the meeting data like this where the DAY_NUMBER is a number between 0 and 6 (0 equals Sunday).

```json
{
  "<MODULE_NUMBER>": {
    "<DAY_NUMBER>": {
      "url": "<MEETING_URL_1",
      "password": "MEETING_PASSWORD_1"
    },
    "<DAY_NUMBER>": {
      "url": "MEETING_URL_2",
      "password": "MEETING_PASSWORD_2"
    }
  }
}
```
